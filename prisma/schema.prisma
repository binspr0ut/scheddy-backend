generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id       String  @id@default(uuid())
  name     String
  password String
  role     Int
  caddies  Caddy[]
}

model Caddy {
  id         String    @id@default(uuid())
  name       String
  caddy_type Int
  id_user    String
  id_caddy_group   String?
  bookings   Booking[]
  caddy_group      CaddyGroup?    @relation(fields: [id_caddy_group], references: [id])
  user       User      @relation(fields: [id_user], references: [id])
  onFields   OnField[]
}

model CaddyGroup {
  group_name String     @unique
  id         String        @id @default(uuid())
  caddies    Caddy[]
  liburs     Libur[]
  schedules  Schedule[]
}

model Schedule {
  id       String   @id@default(uuid())
  urutan   Int
  date     DateTime
  shift    Int
  id_caddy_group String
  caddy_group    CaddyGroup    @relation(fields: [id_caddy_group], references: [id])
}

model Libur {
  id         String   @id@default(uuid())
  date       DateTime
  is_request Boolean
  id_caddy_group   String
  caddy_group      CaddyGroup    @relation(fields: [id_caddy_group], references: [id])
}

model Booking {
  id          String   @id@default(uuid())
  id_caddy    String
  nama_pemain String
  date        DateTime
  caddy       Caddy    @relation(fields: [id_caddy], references: [id])
}

model OnField {
  id                String   @id@default(uuid())
  id_caddy          String
  kode              String
  nama_pemain       String
  date_turun        DateTime
  booked            Boolean
  jumlah_hole       Int?
  status            Int
  wood_quantity     Int
  iron_quantity     Int
  putter_quantity   Int
  umbrella_quantity Int
  other_items       String?
  caddy             Caddy    @relation(fields: [id_caddy], references: [id])
}
